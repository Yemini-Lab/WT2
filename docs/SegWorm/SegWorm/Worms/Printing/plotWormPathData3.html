<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of plotWormPathData3</title>
  <meta name="keywords" content="plotWormPathData3">
  <meta name="description" content="PLOTWORMPATHDATA Plot data along the worm path.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
  <script type="text/javascript">
    if (top.frames.length == 0) { top.location = "../../../index.html"; };
  </script>
</head>
<body>
<a name="_top"></a>
<!-- # SegWorm --><!-- # Worms --><!-- menu.html Printing -->
<h1>plotWormPathData3
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>PLOTWORMPATHDATA Plot data along the worm path.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function plotWormPathData(data, wormPath, startWorm, endWorm,wormColors, fps, widthPerLength, titleName, axisName, dataName,varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment">PLOTWORMPATHDATA Plot data along the worm path.

   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS,
                    FPS, WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME)

   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS,
                    FPS, WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME,
                    DATACOLORS)

   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS, FPS,
                    WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME,
                    DATACOLORS, EVENTS, EVENTNAMES, EVENTMARKERS,
                    EVENTCOLORS)

   Inputs:
       data           - the data vector to plot
       wormPath       - the worm path coordinates
       startWorm      - the starting worm coordinates;
                        if empty, the worm is not plotted
       endWorm        - the ending worm coordinates;
                        if empty, the worm is not plotted
       wormColors     - the colors for the starting and ending worms
                        if empty, the worm is not plotted
       fps            - the frames/second;
                        if empty, the path time is not shown
       widthPerLength - the worm's mean width/length
                        (for plotting the starting and ending worm);
                        if empty, the worm width defaults to 3 points
       titleName      - the title for the figure
       axisName       - the name to label the path axes
       dataName       - the name to label the data values
       dataColors     - the indices/values or colors for coloring the data;
                        if empty, the data values are used with the &quot;jet&quot;
                        colormap
       events         - the event(s) coordinates (XY coordinates x event
                        number) -- see events2coordinates
       eventNames     - the name(s) to label the event(s)
       eventMarkers   - the marker(s) to label the event(s)
       eventColors    - the color(s) to label the event(s) marker(s)

 See PLOTWORMPATH, EVENTS2COORDINATES</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->



<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <span class="comment">%PLOTWORMPATHDATA Plot data along the worm path.</span>
0002 <span class="comment">%</span>
0003 <span class="comment">%   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS,</span>
0004 <span class="comment">%                    FPS, WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME)</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS,</span>
0007 <span class="comment">%                    FPS, WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME,</span>
0008 <span class="comment">%                    DATACOLORS)</span>
0009 <span class="comment">%</span>
0010 <span class="comment">%   PLOTWORMPATHDATA(DATA, WORMPATH, STARTWORM, ENDWORM, WORMCOLORS, FPS,</span>
0011 <span class="comment">%                    WIDTHPERLENGTH, TITLENAME, AXISNAME, DATANAME,</span>
0012 <span class="comment">%                    DATACOLORS, EVENTS, EVENTNAMES, EVENTMARKERS,</span>
0013 <span class="comment">%                    EVENTCOLORS)</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%   Inputs:</span>
0016 <span class="comment">%       data           - the data vector to plot</span>
0017 <span class="comment">%       wormPath       - the worm path coordinates</span>
0018 <span class="comment">%       startWorm      - the starting worm coordinates;</span>
0019 <span class="comment">%                        if empty, the worm is not plotted</span>
0020 <span class="comment">%       endWorm        - the ending worm coordinates;</span>
0021 <span class="comment">%                        if empty, the worm is not plotted</span>
0022 <span class="comment">%       wormColors     - the colors for the starting and ending worms</span>
0023 <span class="comment">%                        if empty, the worm is not plotted</span>
0024 <span class="comment">%       fps            - the frames/second;</span>
0025 <span class="comment">%                        if empty, the path time is not shown</span>
0026 <span class="comment">%       widthPerLength - the worm's mean width/length</span>
0027 <span class="comment">%                        (for plotting the starting and ending worm);</span>
0028 <span class="comment">%                        if empty, the worm width defaults to 3 points</span>
0029 <span class="comment">%       titleName      - the title for the figure</span>
0030 <span class="comment">%       axisName       - the name to label the path axes</span>
0031 <span class="comment">%       dataName       - the name to label the data values</span>
0032 <span class="comment">%       dataColors     - the indices/values or colors for coloring the data;</span>
0033 <span class="comment">%                        if empty, the data values are used with the &quot;jet&quot;</span>
0034 <span class="comment">%                        colormap</span>
0035 <span class="comment">%       events         - the event(s) coordinates (XY coordinates x event</span>
0036 <span class="comment">%                        number) -- see events2coordinates</span>
0037 <span class="comment">%       eventNames     - the name(s) to label the event(s)</span>
0038 <span class="comment">%       eventMarkers   - the marker(s) to label the event(s)</span>
0039 <span class="comment">%       eventColors    - the color(s) to label the event(s) marker(s)</span>
0040 <span class="comment">%</span>
0041 <span class="comment">% See PLOTWORMPATH, EVENTS2COORDINATES</span>
0042 <a name="_sub0" href="#_subfunctions" class="code">function plotWormPathData(data, wormPath, startWorm, endWorm, </a><span class="keyword">...</span>
0043     wormColors, fps, widthPerLength, titleName, axisName, dataName, <span class="keyword">...</span>
0044     varargin)
0045 
0046 <span class="comment">% Determine the data colors.</span>
0047 dataColors = data;
0048 <span class="keyword">if</span> ~isempty(varargin)
0049     dataColors = varargin{1};
0050 <span class="keyword">end</span>
0051 
0052 <span class="comment">% Are we plotting any events?</span>
0053 events = [];
0054 <span class="keyword">if</span> length(varargin) &gt;= 5
0055     
0056     <span class="comment">% Determine the events.</span>
0057     events = varargin{2};
0058     
0059     <span class="comment">% Determine the event names.</span>
0060     eventNames = varargin{3};
0061     
0062     <span class="comment">% Determine the event markers.</span>
0063     eventMarkers = varargin{4};
0064     
0065     <span class="comment">% Determine the event colors.</span>
0066     eventColors = varargin{5};
0067 <span class="keyword">end</span>
0068 
0069 <span class="comment">% Organize the events.</span>
0070 <span class="keyword">if</span> ~isempty(events) &amp;&amp; ~iscell(events)
0071     events = {events};
0072     eventNames = {eventNames};
0073     eventMarkers = {eventMarkers};
0074     eventColors = {eventColors};
0075 <span class="keyword">end</span>
0076 
0077 <span class="comment">% Should we plot the start and end worms?</span>
0078 <span class="keyword">if</span> isempty(startWorm) || isempty(endWorm)
0079     startWorm = [];
0080     endWorm = [];
0081 <span class="keyword">end</span>
0082 
0083 <span class="comment">% Plot the start and end worms.</span>
0084 <span class="comment">% Note: this is done twice to display the legend and layers correctly.</span>
0085 hold on;
0086 lineSize = 3;
0087 <span class="keyword">if</span> ~isempty(startWorm)
0088     plot(startWorm(1,1), startWorm(1,2), <span class="string">'Color'</span>, wormColors{1}, <span class="keyword">...</span>
0089         <span class="string">'LineWidth'</span>, lineSize); <span class="comment">%, 'Marker', 'o', 'MarkerSize', lineSize, ...</span>
0090     <span class="comment">%'MarkerFaceColor', wormColors{1}, 'MarkerEdgeColor', wormColors{1});</span>
0091     plot(endWorm(1,1), endWorm(1,2), <span class="string">'Color'</span>, wormColors{2}, <span class="keyword">...</span>
0092         <span class="string">'LineWidth'</span>, lineSize); <span class="comment">%, 'Marker', 'o', 'MarkerSize', lineSize, ...</span>
0093     <span class="comment">%'MarkerFaceColor', wormColors{2}, 'MarkerEdgeColor', wormColors{2});</span>
0094 <span class="keyword">end</span>
0095 
0096 <span class="comment">% Plot the events.</span>
0097 <span class="comment">% Note: this is done twice to display the legend and layers correctly.</span>
0098 <span class="keyword">for</span> i = 1:length(events)
0099     plot(events(1,1), events(2,1), <span class="string">'LineStyle'</span>, <span class="string">'.'</span>, <span class="string">'Color'</span>, <span class="keyword">...</span>
0100         eventColors{i}, <span class="string">'Marker'</span>, eventMarkers{i});
0101 <span class="keyword">end</span>
0102 
0103 <span class="comment">% Plot the worm path data.</span>
0104 colormap(jet);
0105 circleSize = 3;
0106 pathHandle = scatter(wormPath(1,:), wormPath(2,:), circleSize, <span class="keyword">...</span>
0107     dataColors, <span class="string">'filled'</span>);
0108 plotHandle = get(pathHandle, <span class="string">'Parent'</span>);
0109 
0110 <span class="comment">% Show the color legend.</span>
0111 colorbarHandle = colorbar;
0112 caxis([min(data) max(data)]);
0113 set(get(colorbarHandle, <span class="string">'YLabel'</span>), <span class="string">'String'</span>, dataName);
0114 
0115 <span class="comment">% Plot the start and end worms.</span>
0116 <span class="comment">% Note: this is done twice to display the legend and layers correctly.</span>
0117 <span class="keyword">if</span> ~isempty(startWorm)
0118     plot(startWorm(:,1), startWorm(:,2), <span class="string">'Color'</span>, wormColors{1}, <span class="keyword">...</span>
0119         <span class="string">'LineWidth'</span>, lineSize); <span class="comment">%, 'Marker', 'o', 'MarkerSize', lineSize, ...</span>
0120     <span class="comment">%'MarkerFaceColor', wormColors{1}, 'MarkerEdgeColor', wormColors{1});</span>
0121     plot(endWorm(:,1), endWorm(:,2), <span class="string">'Color'</span>, wormColors{2}, <span class="keyword">...</span>
0122         <span class="string">'LineWidth'</span>, lineSize); <span class="comment">%, 'Marker', 'o', 'MarkerSize', lineSize, ...</span>
0123     <span class="comment">%'MarkerFaceColor', wormColors{2}, 'MarkerEdgeColor', wormColors{2});</span>
0124 <span class="keyword">end</span>
0125 
0126 <span class="comment">% Plot the events.</span>
0127 <span class="comment">% Note: this is done twice to display the legend and layers correctly.</span>
0128 <span class="keyword">for</span> i = 1:length(events)
0129     plot(events(1,:), events(2,:), <span class="string">'LineStyle'</span>, <span class="string">'.'</span>, <span class="string">'Color'</span>, <span class="keyword">...</span>
0130         eventColors{i}, <span class="string">'Marker'</span>, eventMarkers{i});
0131 <span class="keyword">end</span>
0132 
0133 <span class="comment">% Construct the starting and ending worm legend.</span>
0134 legends = [];
0135 <span class="keyword">if</span> ~isempty(startWorm)
0136     legends{end + 1} = <span class="string">'Start'</span>;
0137 <span class="keyword">end</span>
0138 <span class="keyword">if</span> ~isempty(endWorm)
0139     time = length(wormPath) / fps;
0140     legends{end + 1} = [<span class="string">'End (Time = '</span> num2str(time) <span class="string">' seconds)'</span>];
0141 <span class="keyword">end</span>
0142 
0143 <span class="comment">% Construct the events legend.</span>
0144 <span class="keyword">for</span> i = 1:length(events)
0145     legends{end + 1} = [eventNames <span class="string">'(N = '</span> num2str(length(events{i})) <span class="string">')'</span>];
0146 <span class="keyword">end</span>
0147 
0148 <span class="comment">% Label the figure.</span>
0149 title(titleName);
0150 xlabel([<span class="string">'X '</span> axisName]);
0151 ylabel([<span class="string">'Y '</span> axisName]);
0152 <span class="keyword">if</span> ~isempty(startWorm)
0153     legendHandle = legend(legends, <span class="string">'Location'</span>, <span class="string">'North'</span>);
0154     set(legendHandle, <span class="string">'LineWidth'</span>, 1.5);
0155 <span class="keyword">end</span>
0156 
0157 <span class="comment">% Compute the minimum and maximum path coordinates.</span>
0158 minXPath = min(wormPath(1,:));
0159 maxXPath = max(wormPath(1,:));
0160 minYPath = min(wormPath(2,:));
0161 maxYPath = max(wormPath(2,:));
0162 
0163 <span class="comment">% Resize the plots to fit the legend.</span>
0164 pathScale = 1;
0165 <span class="keyword">if</span> ~isempty(startWorm)
0166     plotPosition = get(plotHandle, <span class="string">'Position'</span>);
0167     legendPosition = get(legendHandle, <span class="string">'Position'</span>);
0168     pathScale = (legendPosition(2) - plotPosition(2)) / plotPosition(4);
0169 <span class="keyword">end</span>
0170 axis equal;
0171 pad = 0.01 * min(maxXPath - minXPath, maxYPath - minYPath);
0172 xlim([minXPath - pad, maxXPath + pad]);
0173 ylim([minYPath - pad, (maxYPath - minYPath) / pathScale + minYPath + pad]);
0174 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Tue 25-Jun-2013 14:47:30 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2005</address>
</body>
</html>